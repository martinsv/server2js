(function(){var g=!0,h=!1,i=this;
function j(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if("[object Window]"==b)return"object";if("[object Array]"==b||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==b||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
c&&"undefined"==typeof a.call)return"object";return c}function k(a,c,b){return a.call.apply(a.bind,arguments)}function l(a,c,b){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(b,d);return a.apply(c,b)}}return function(){return a.apply(c,arguments)}}
function m(a,c,b){m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:l;return m.apply(null,arguments)}function p(a,c){var b=a.split("."),d=i;!(b[0]in d)&&d.execScript&&d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)!b.length&&void 0!==c?d[e]=c:d=d[e]?d[e]:d[e]={}};function q(){this.i=this.c=this.b=this.h=this.j=h;this.a={};this.e=[];this.d=[]}var t;function u(){var a=new q,c=m(a.g,a);c.run=m(a.g,a);c.hook=m(a.m,a);c.ready=m(a.f,a);c.dispose=m(a.k,a);return c}q.prototype.g=function(a,c){var b="string"==typeof a?JSON.parse(a):a;if("array"==j(b))for(var d=0,e=b.length;d<e;d++){var f=b[d].op;this.a[f]?"array"==j(this.a[f])?this.a[f].push(b[d]):this.a[f]=[this.a[f],b[d]]:this.a[f]=b[d]}this.j=c||h;this.i=g;v(this,g);this.b&&v(this,h);this.c||w(this)};
q.prototype.m=function(a,c,b,d){a={p:a,l:c,n:b||100,f:d};d?(this.c=g,this.d.push(a),this.b&&v(this,h)):(this.e.push(a),this.i&&v(this,g))};q.prototype.f=function(){this.b||(this.b=g,this.c?v(this,h):w(this))};q.prototype.k=function(){return w(this,g)};function w(a,c){if(!c&&a.j||a.h)return h;delete a.d;delete a.e;delete a.a;return a.h=g}
function v(a,c){var b=c?a.e:a.d;Array.prototype.sort.call(b,a.o);for(var d=b.length,e=[];d--;){var f=b[d],r=f.p;if(a.a[r]){var n=a,o=n.a[r];if("array"==j(o))for(var s=0,y=o.length;s<y;s++)f.l(o[s].val);else f.l(o.val);delete n.a[r];e.push(d)}}d=0;for(n=e.length;d<n;d++)Array.prototype.splice.call(b,e[d],1)}q.prototype.o=function(a,c){return a.n<c.n};var x=t||(t=u());p("ss.server",x);p("ss.server.run",x.g);p("ss.server.hook",x.m);p("ss.server.ready",x.f);p("ss.server.dispose",x.k);p("ss.server.Server2jsClass",u);}).call(this);
