!function(){var h=!0,i=!1,j=this;function k(a,b){var c=a.split("."),d=j;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&void 0!==b?d[f]=b:d=d[f]?d[f]:d[f]={}};function l(){this.i=this.d=this.b=this.c=this.j=i;this.a={};this.f=[];this.e=[]}var n;function o(a){return"object"!==typeof a||!a?i:a instanceof Array?h:a instanceof Object?i:"[object Array]"===Object.prototype.toString.call(a)?h:i}function q(a,b){if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,c);return a.apply(b,d)}}return function(){return a.apply(b,arguments)}}
function s(){var a=new l,b=q(a.h,a);b.run=q(a.h,a);b.hook=q(a.m,a);b.ready=q(a.g,a);b.dispose=q(a.k,a);return b}
l.prototype.h=function(a,b){var c,d={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},f=document.createElement("div");c=a.replace(/&([^;\s<&]+);?/g,function(a,c){var b=d[a];if(b)return b;if("#"==c.charAt(0)){var e=Number("0"+c.substr(1));isNaN(e)||(b=String.fromCharCode(e))}b||(f.innerHTML=a+" ",b=f.firstChild.nodeValue.slice(0,-1));return d[a]=b});c=JSON.parse(c);if(o(c))for(var g=0,m=c.length;g<m;g++){var e=c[g].op;this.a[e]?o(this.a[e])?this.a[e].push(c[g]):this.a[e]=[this.a[e],c[g]]:this.a[e]=
c[g]}this.j=b||i;this.i=h;t(this,h);this.b&&t(this,i);this.d||u(this)};l.prototype.m=function(a,b,c,d){if(this.c)throw Error("server2js has been disposed");a={p:a,l:b,n:c||100,g:d};d?(this.d=h,this.e.push(a),this.b&&t(this,i)):(this.f.push(a),this.i&&t(this,h))};l.prototype.g=function(){this.b||(this.b=h,this.d?t(this,i):u(this))};l.prototype.k=function(){return u(this,h)};function u(a,b){if(!b&&a.j||a.c)return i;delete a.e;delete a.f;delete a.a;return a.c=h}
function t(a,b){var c=b?a.f:a.e;Array.prototype.sort.call(c,a.o);for(var d=c.length,f=[];d--;){var g=c[d],m=g.p;if(a.a[m]){var e=a,p=e.a[m];if(o(p))for(var r=0,w=p.length;r<w;r++)g.l(p[r].val);else g.l(p.val);delete e.a[m];f.push(d)}}d=0;for(e=f.length;d<e;d++)Array.prototype.splice.call(c,f[d],1)}l.prototype.o=function(a,b){return a.n<b.n};var v=n||(n=s());k("ss.server",v);k("ss.server.run",v.h);k("ss.server.hook",v.m);k("ss.server.ready",v.g);k("ss.server.dispose",v.k);k("ss.server.Server2jsClass",s);}.call(this);
