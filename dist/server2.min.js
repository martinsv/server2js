(function(){var g=!0,h=!1,i=this;function j(a,d){var c=a.split("."),b=i;!(c[0]in b)&&b.execScript&&b.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&void 0!==d?b[e]=d:b=b[e]?b[e]:b[e]={}};function k(){this.i=this.c=this.b=this.h=this.j=h;this.a={};this.e=[];this.d=[]}var l;function m(a){return"object"!=typeof a||!a?h:a instanceof Array?g:a instanceof Object?h:"[object Array]"==Object.prototype.toString.call(a)?g:h}function p(a,d){if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(b,c);return a.apply(d,b)}}return function(){return a.apply(d,arguments)}}
function q(){var a=new k,d=p(a.g,a);d.run=p(a.g,a);d.hook=p(a.m,a);d.ready=p(a.f,a);d.dispose=p(a.k,a);return d}k.prototype.g=function(a,d){var c;c="string"==typeof a?JSON.parse(a):a;if(m(c))for(var b=0,e=c.length;b<e;b++){var f=c[b].op;this.a[f]?m(this.a[f])?this.a[f].push(c[b]):this.a[f]=[this.a[f],c[b]]:this.a[f]=c[b]}this.j=d||h;this.i=g;t(this,g);this.b&&t(this,h);this.c||u(this)};
k.prototype.m=function(a,d,c,b){a={p:a,l:d,n:c||100,f:b};b?(this.c=g,this.d.push(a),this.b&&t(this,h)):(this.e.push(a),this.i&&t(this,g))};k.prototype.f=function(){this.b||(this.b=g,this.c?t(this,h):u(this))};k.prototype.k=function(){return u(this,g)};function u(a,d){if(!d&&a.j||a.h)return h;delete a.d;delete a.e;delete a.a;return a.h=g}
function t(a,d){var c=d?a.e:a.d;Array.prototype.sort.call(c,a.o);for(var b=c.length,e=[];b--;){var f=c[b],r=f.p;if(a.a[r]){var n=a,o=n.a[r];if(m(o))for(var s=0,w=o.length;s<w;s++)f.l(o[s].val);else f.l(o.val);delete n.a[r];e.push(b)}}b=0;for(n=e.length;b<n;b++)Array.prototype.splice.call(c,e[b],1)}k.prototype.o=function(a,d){return a.n<d.n};var v=l||(l=q());j("ssd.server",v);j("ssd.server.run",v.g);j("ssd.server.hook",v.m);j("ssd.server.ready",v.f);j("ssd.server.dispose",v.k);j("ssd.server.Server2jsClass",q);}).call(this);
