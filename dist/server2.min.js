!function(){var h=!0,i=!1,k=this;function l(a,c){var d=a.split("."),b=k;!(d[0]in b)&&b.execScript&&b.execScript("var "+d[0]);for(var e;d.length&&(e=d.shift());)!d.length&&void 0!==c?b[e]=c:b=b[e]?b[e]:b[e]={}};function m(){this.i=this.d=this.b=this.c=this.j=i;this.a={};this.f=[];this.e=[]}var n;function o(a){return"object"!==typeof a||!a?i:a instanceof Array?h:a instanceof Object?i:"[object Array]"===Object.prototype.toString.call(a)?h:i}function q(a,c){if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(b,d);return a.apply(c,b)}}return function(){return a.apply(c,arguments)}}
function r(){var a=new m,c=q(a.h,a);c.run=q(a.h,a);c.hook=q(a.m,a);c.ready=q(a.g,a);c.dispose=q(a.k,a);return c}m.prototype.h=function(a,c){var d=JSON.parse(a);if(o(d))for(var b=0,e=d.length;b<e;b++){var f=d[b].op;this.a[f]?o(this.a[f])?this.a[f].push(s(d[b])):this.a[f]=[this.a[f],s(d[b])]:this.a[f]=s(d[b])}this.j=!c;this.i=h;u(this,h);this.b&&u(this,i);this.d||v(this)};
function s(a){var c;c=a.val;var d={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},b=document.createElement("div");c=c.replace(/&([^;\s<&]+);?/g,function(a,c){var g=d[a];if(g)return g;if("#"==c.charAt(0)){var j=Number("0"+c.substr(1));isNaN(j)||(g=String.fromCharCode(j))}g||(b.innerHTML=a+" ",g=b.firstChild.nodeValue.slice(0,-1));return d[a]=g});c=JSON.parse(c);a.val=c;return a}
m.prototype.m=function(a,c,d,b){if(this.c)throw Error("server2js has been disposed");a={p:a,l:c,n:d||100,g:b};b?(this.d=h,this.e.push(a),this.b&&u(this,i)):(this.f.push(a),this.i&&u(this,h))};m.prototype.g=function(){this.b||(this.b=h,this.d?u(this,i):v(this))};m.prototype.k=function(){return v(this,h)};function v(a,c){if(!c&&a.j||a.c)return i;delete a.e;delete a.f;delete a.a;return a.c=h}
function u(a,c){var d=c?a.f:a.e;Array.prototype.sort.call(d,a.o);for(var b=d.length,e=[];b--;){var f=d[b],g=f.p;if(a.a[g]){var j=a,p=j.a[g];if(o(p))for(var t=0,x=p.length;t<x;t++)f.l(p[t].val);else f.l(p.val);delete j.a[g];e.push(b)}}b=0;for(j=e.length;b<j;b++)Array.prototype.splice.call(d,e[b],1)}m.prototype.o=function(a,c){return a.n<c.n};var w=n||(n=r());l("ss.server",w);l("ss.server.run",w.h);l("ss.server.hook",w.m);l("ss.server.ready",w.g);l("ss.server.dispose",w.k);l("ss.server.Server2jsClass",r);}.call(this);
