!function(){var g=!0,i=!1,j=this;function k(a,c){var b=a.split("."),d=j;!(b[0]in d)&&d.execScript&&d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)!b.length&&void 0!==c?d[e]=c:d=d[e]?d[e]:d[e]={}};function l(){this.i=this.d=this.b=this.c=this.j=this.p=i;this.a={};this.f=[];this.e=[]}var m;function n(a){return"object"!==typeof a||!a?i:a instanceof Array?g:a instanceof Object?i:"[object Array]"===Object.prototype.toString.call(a)?g:i}function p(a,c){if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,b);return a.apply(c,d)}}return function(){return a.apply(c,arguments)}}
function s(a){var c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},b=document.createElement("div");return"string"!==typeof a||!a.replace?a:a.replace(/&([^;\s<&]+);?/g,function(a,e){var h=c[a];if(h)return h;if("#"===e.charAt(0)){var f=Number("0"+e.substr(1));isNaN(f)||(h=String.fromCharCode(f))}h||(b.innerHTML=a+" ",h=b.firstChild.nodeValue.slice(0,-1));return c[a]=h})}function t(){var a=new l,c=p(a.h,a);c.run=p(a.h,a);c.hook=p(a.m,a);c.ready=p(a.g,a);c.dispose=p(a.k,a);return c}
l.prototype.h=function(a,c){var b;a:{if(n(a))this.p=g,b=a;else try{b=JSON.parse(a)}catch(d){b=i;break a}if(n(b)){for(var e=0,h=b.length;e<h;e++){var f=b[e].op;this.a[f]?n(this.a[f])?this.a[f].push(v(b[e])):this.a[f]=[this.a[f],v(b[e])]:this.a[f]=v(b[e])}b=g}else b=i}if(!b)return i;this.j=!c;this.i=g;w(this,g);this.b&&w(this,i);this.d||x(this);return g};var y=[];
function v(a){var c={};c.op=a.op;c.val=a.val;var b;b=s(c.val);try{b=JSON.parse(b)}catch(d){return y.push(a),c.val=null,c}c.val=b;return c}l.prototype.m=function(a,c,b,d){if(this.c)throw Error("server2js has been disposed");a={q:a,l:c,n:b||100,g:d};d?(this.d=g,this.e.push(a),this.b&&w(this,i)):(this.f.push(a),this.i&&w(this,g))};l.prototype.g=function(){this.b||(this.b=g,this.d?w(this,i):x(this))};l.prototype.k=function(){return x(this,g)};
function x(a,c){if(!c&&a.j||a.c)return i;delete a.e;delete a.f;delete a.a;return a.c=g}function w(a,c){var b=c?a.f:a.e,b=Array.prototype.slice.call(b,0);Array.prototype.sort.call(b,a.o);for(var d=b.length,e=[];d--;){var h=b[d],f=h.q;if(a.a[f]){var q=a,r=q.a[f];if(n(r))for(var u=0,A=r.length;u<A;u++)h.l(r[u].val);else h.l(r.val);delete q.a[f];e.push(d)}}d=0;for(q=e.length;d<q;d++)Array.prototype.splice.call(b,e[d],1)}l.prototype.o=function(a,c){return c.n-a.n};var z=m||(m=t());k("ss.server",z);k("ss.server.run",z.h);k("ss.server.hook",z.m);k("ss.server.ready",z.g);k("ss.server.dispose",z.k);k("ss.server.Server2jsClass",t);}.call(this);
